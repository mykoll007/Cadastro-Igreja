<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cadastrar Relatório</title>
  <link rel="stylesheet" href="../css/novorelatorio.css">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Urbanist:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet">
</head>

<body>
  <div id="container">
    <div class="align-seta" id="setaRetornar">
      <a href="inicio.html" id="link-retornar"><img src="../assets/arrow-black.png" id="seta-retroceder"
          alt="Seta para voltar página"></a>
    </div>
    <img src="../assets/logo-vivendo.jpg" alt="Logo Vivendo um Novo Tempo">
    <h2 id="cadastrar-membro">Cadastrar Novo Relatório de Culto</h2>

    <form id="form-relatorio">
      <label>Dia da Semana</label>
      <select name="dia_semana" required>
        <option value="">Selecione</option>
        <option>Domingo</option>
        <option>Quarta</option>
        <option>Sábado</option>
      </select>

      <label>Data do Culto</label>
      <input type="date" name="data_culto" id="data_culto" required>

      <label>Visitantes</label>
      <input type="number" name="visitantes" id="visitantes" required>

      <label>Total de Presentes</label>
      <input type="number" name="presentes" id="total-presentes" min="0" required>

      <!-- Relação de Dízimos -->
      <label class="relacao">Relação de Dízimos</label>
      <div id="dizimos-lista"></div>
      <button type="button" id="btn-add-dizimo">+Adicionar</button>

      <label>Total Dízimos</label>
      <input type="text" id="total-dizimos" readonly>

      <label>Ofertas Gerais</label>
      <input type="number" name="oferta_geral" step="0.01">

      <!-- Outras Ofertas -->
      <label class="relacao">Outras Ofertas</label>
      <div id="ofertas-lista"></div>
      <button type="button" id="btn-add-oferta">+Adicionar</button>

      <label>Oferta Social</label>
      <input type="number" name="oferta_social" step="0.01">

      <label>Total de Arrecadação</label>
      <input type="text" id="total-arrecadacao" readonly>
      <div id="align-btnEnvio">
        <button type="submit" id="btn-enviar-relatorio">Salvar Relatório</button>
      </div>

      <!-- Modal Dízimo -->
      <div id="modal-dizimo" class="modal hidden">
        <div class="modal-content">
          <h3>Adicionar Dízimo</h3>
          <label for="select-dizimista">Dizimista:</label>
          <div class="form-group">
            <input type="text" id="input-dizimista" autocomplete="off" placeholder="Digite para buscar...">
            <ul id="sugestoes-dizimista" class="sugestoes-lista"></ul>
          </div>

          <label for="valor-dizimo">Valor:</label>
          <input type="number" id="valor-dizimo" step="0.01">

          <div class="modal-buttons">
            <button type="button" id="confirmar-dizimo">Adicionar</button>
            <button type="button" id="cancelar-dizimo">Cancelar</button>
          </div>
        </div>
      </div>

      <!-- Modal Oferta -->
      <div id="modal-oferta" class="modal hidden">
        <div class="modal-content">
          <h3>Adicionar Outra Oferta</h3>
          <label for="descricao-oferta">Descrição:</label>
          <input type="text" id="descricao-oferta">

          <label for="valor-oferta">Valor:</label>
          <input type="number" id="valor-oferta" step="0.01">

          <div class="modal-buttons">
            <button type="button" id="confirmar-oferta">Adicionar</button>
            <button type="button" id="cancelar-oferta">Cancelar</button>
          </div>
        </div>
      </div>

    </form>

    <!-- Mensagem de sucesso (inicialmente escondida) -->
    <div id="msg-sucesso" style="display:none; position:fixed; top:20%; left:50%; transform: translateX(-50%);
  background:#e0ffe0; border:1px solid #0a0; padding:20px; z-index:999;">
      <p>Relatório cadastrado com sucesso!</p>
      <button id="btn-fechar-msg">Fechar</button>
    </div>

    <!-- Bolinha de carregamento -->
    <div id="overlay-loading">
      <div class="spinner"></div>
    </div>

  </div>

  <script src="../js/cadastro-relatorio.js"></script>
</body>

</html>